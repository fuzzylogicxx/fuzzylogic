---
layout: layouts/base.njk
templateClass: post-main
---
{%- from "system/component.njk" import component -%}

<div class="l-wrapper">

  <article class="l-stack c-post" itemscope itemtype="http://schema.org/BlogPosting">

    <div class="c-post__meta">
      {% switch post.data.tags[1] %}
        {% case "link" %}
          {{ component('icon', {
            name: 'bookmark',
            text: 'Bookmark'
          }) }}
        {% case "note" %}
          {{ component('icon', {
            name: 'note',
            text: 'Note'
          }) }}
        {% default %}
          {{ component('icon', {
            name: 'entry',
            text: 'Entry'
          }) }}
      {% endswitch %}
      <time itemprop="dateCreated pubdate datePublished" datetime="{{ page.date | htmlDateString }}">{{ page.date | readableDate }}</time>
      {%- if (tags[1] !== 'note') and (title) -%}<h1 class="c-post__title" itemprop="headline">{{ title }}</h1>{%- endif -%}
    </div>

    <div itemprop="articleBody" class="l-stack {{ "article-type-listing" if isList }}">

      {% if linkTarget %}
      <a class="btn btn-icon" href="{{ linkTarget }}">
        <span class="btn-icon-text">Direct Link</span>
        {{ component('icon', { name: 'offsite' }) }}
      </a>
      {% endif %}

      {{ content | safe }}

    </div> <!-- / [itemprop]=articleBody -->

    <footer class="l-stack full-article-footer">

      <h2 class="h3">Related topics</h2>

      <div class="cluster">
        <ul role="list" class="tags">
        {% for tag in tags %}
          {%- if (tag != "posts") and (tag != "link") and (tag != "note") and (tag != "entry") -%}
          {% set tagUrl %}/tags/{{ tag }}/{% endset %}
          <li><a rel="tag" href="{{ tagUrl | url }}" class="tag">{{ tag }}</a></li>
          {%- endif -%}
        {% endfor %}
        </ul>
      </div>

      <nav aria-label="Posts navigation" class="traverse">
        {%- set previousPost = collections.posts | getPreviousCollectionItem(page) %}
        {%- if previousPost %}<a rel="prev" href="{{ previousPost.url | url }}"><span aria-hidden="true">← </span>Previous post</a></li>{% endif %}
        {%- set nextPost = collections.posts | getNextCollectionItem(page) %}
        {%- if nextPost %}<a rel="next" href="{{ nextPost.url | url }}">Next post<span aria-hidden="true"> →</span></a>{% endif %}
      </nav>

    </footer>

  </article>

</div> <!-- /.l-wrapper -->
