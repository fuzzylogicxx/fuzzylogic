---
title: Offline
permalink: offline/index.html
---

<div class="centre-with-gutter">

  <article class="prose">

    <h1>{{ title }}</h1>
    <p>Sorry, we canâ€™t show this page because your network/internet connection appears to be down.</p>
    <!-- <p>But you can still read these pages:</p> -->

  <!--
  <div id="history">
    </div>

    <script>
    for (let i=0; i < localStorage.length; i++) {
        let key = localStorage.key(i);
        caches.match(key)
        .then( responseFromCache => {
            if (!responseFromCache ) {
                localStorage.removeItem(key);
            }
        })
    }
    const browsingHistory = [];
    caches.open('pages')
    .then( cache => {
        cache.keys()
        .then(keys => {
            keys.forEach( request => {
                let data = JSON.parse(localStorage.getItem(request.url));
                if (data) {
                    data['url'] = request.url;
                    browsingHistory.push(data);
                }
            });
            browsingHistory.sort( (a,b) => {
                return b.timestamp - a.timestamp;
            });
            let markup = '';
            browsingHistory.forEach( data => {
                markup += `
    <h2><a href="${ data.url }">${ data.title }</a></h2>
    <p>${ data.description }</p>
    <p class="meta">${ data.published }</p>
    `;
            });
            let container = document.getElementById('history');
            container.insertAdjacentHTML('beforeend', markup);
        })
    });
    </script> -->

  </article>

</div>
